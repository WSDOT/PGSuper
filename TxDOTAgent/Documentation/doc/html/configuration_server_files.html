<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>TOGA: Configuration Servers - The Details</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="txdot.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TOGA
   &#160;<span id="projectnumber">3.1</span>
   </div>
   <div id="projectbrief">Texas Optional Girder Analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('configuration_server_files.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Configuration Servers - The Details </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Configuration Servers are more of a concept than what we traditionally think of as a server. Examples of the servers we traditionally think of are FTP, HTTP, PHP, SQL, and the like. All of these servers use dedicated hardware running specialized software. The Configuration Servers we refer to are basically locations where some files can be stored and accessed by users.</p>
<p>Our Configuration Servers can use a local or network file system on your computer, an FTP server or an HTTP server to store and provide access to Configurations.</p>
<p>In this topic we will describe how to setup configuration servers.</p>
<h2>Local and Network File System based Configuration Servers </h2>
<p>Configuration Servers based on a file system are the easiest to setup, however the accessibility is limited to a LAN/WAN. Generally, you do not have your file system shared on the Internet for everyone to use (although it may work on DropBox or Google Drive, we have not tested this). File system based configuration servers are useful when developing configurations or when working with a limited group.</p>
<p>To set up the server:</p><ol type="1">
<li>Determine the location on your file system where you would like the server to reside. Let's say G:\MyTOGA\.</li>
<li>Copy your Master Library to G:\MyTOGA\. The Master Library is a file you create with the PGS Library Editor application. The file has a .LBR extension.</li>
<li>Create a folder for template files, let's say G:\MyTOGA\MyTemplates\</li>
</ol>
<ol type="1">
<li>Copy your TOGA Project Templates (*.togt), icon files (*.ico) and TogaTemplate.pgs to G:\MyTOGA\MyTemplates.</li>
<li>Let everyone know how to access your configuration.</li>
</ol>
<blockquote class="doxtable">
<p>NOTE: Local and Network File System based servers do not use publishing instructions or configuration documentation. </p>
</blockquote>
<p>See <a class="el" href="configurations.html">Configurations</a> in the <a class="el" href="adminstrator_guide.html">Adminstrator Guide</a> to learn how to configure TOGA to use a file system based configuration. You will want to provide your users with the following information that is to be entered in the Configuration Server Definition window.</p>
<table class="doxtable">
<tr>
<th>Item </th><th>Value  </th></tr>
<tr>
<td>Name </td><td>This can be any name. Specify one, or let your users decide </td></tr>
<tr>
<td>Server Type </td><td>Local or Network File System </td></tr>
<tr>
<td>Master Library File </td><td>The full path to your Master Library file. (e.g. G:\MyTOGA\MasterLibrary.lbr) </td></tr>
<tr>
<td>Path to Template Files </td><td>The full path to the folder containing your Project Templates. (e.g. G:\MyTOGA\MyTemplates\). The TOGA Project Templates folder contains all of your templates (*.togt), icon files (*.ico) and TogaTemplate.pgs </td></tr>
</table>
<h2>FTP and HTTP based Configuration Servers </h2>
<p>We have a little more work to do before setting up an FTP or HTTP based configuration server.</p>
<h3>Configuration Documentation</h3>
<p>Let's start by writing the optional configuration documentation. This is simply an HTML page that contains information about your configuration. You can create any web page you want, but the documentation generally should contain the following information:</p><ul>
<li>Description</li>
<li>Publishing Date</li>
<li>Warnings and Limitations</li>
<li>Support contact information</li>
<li>Revision log</li>
</ul>
<p>The configuration documentation must be placed on an HTTP or FTP server where users can access it. The location of the configuration documentation is recorded in the publishing instructions as described below. The <a class="el" href="dialogs_configure.html">Configure TOGA</a> window has a hyperlink that, when pressed, will display your configuration documentation.</p>
<div class="image">
<img src="ConfigureWindow.png" alt="ConfigureWindow.png"/>
</div>
<h3>Building the Configuration Package</h3>
<p>The Master Library and Project Templates must be placed into a Configuration Package file (*.pgz) that will be stored on the configuration server. The configuration package allows the software to download a single file when installing a configuration, rather than downloading the Master Library file and additional files for each Project Template. TOGA validates the file contents using an mD5 checksum to insure that the file contents have not been corrupted during download.</p>
<p>The MakePGZ.exe utility program was installed with BrigeLink. It can be found in the BridgeLink application folder. MakePGZ creates the Configuration Package.</p>
<p>To make a configuration package, use the command: </p><pre class="fragment"> MakePGZ.exe pgz_file master_library_file project_template_folder TOGT PGS
</pre><p>where</p>
<table class="doxtable">
<tr>
<th>Parameter </th><th>Description  </th></tr>
<tr>
<td>pgz_file </td><td>The name of the TOGA Configuration Package (PGZ file) that will be created </td></tr>
<tr>
<td>master_library_file </td><td>The name of your Master Library file </td></tr>
<tr>
<td>project_template_folder </td><td>The name of the folder containing your project templates (*.togt files), icon files (*.ico) and TogaTemplate.pgs. </td></tr>
<tr>
<td>TOGT PGS </td><td>The file extension for your templates and pgs file (use TOGT PGS literally) </td></tr>
</table>
<p>Example: </p><pre class="fragment">C:\Program Files\WSDOT\BridgeLink\MakePGZ.exe C:\MyFolder\MyState.pgz  G:\MyTOGA\MasterLibrary.lbr  G:\MyTOGA\MyTemplates\ TOGT PGS
</pre><p>This command will generate two files: C:\MyFolder\MyState.pgz, and C:\MyFolder\MyState.pgz.mD5. Both of these files should be published onto your server.</p>
<blockquote class="doxtable">
<p>Note: The template folder is a single folder containing all of your *.togt files, *.ico files, and TogaTemplate.pgs. This is unlike how a multi-folder structure is used in PGSuper or PGSplice templates. Also, note that MakePGZ.exe is dumb: it does not verify that all of the files necessary to run TOGA are present. </p>
</blockquote>
<h3>Publishing Instructions</h3>
<p>Next, we have to create the publishing instructions file. Publishing instructions are provided in a specially-named text file called TOGAPackages.ini. The content of the file provides information about the configurations you are publishing.</p>
<p>Here is an example TOGAPackages.ini file for an FTP server: </p><pre class="fragment">[WSDOT]
WebLink="http://www.wsdot.wa.gov/eesc/bridge/software/TOGA/LibraryInfo.html"
Format="pgz"
Version_2.9.1_PgzFiles="ftp://ftp.wsdot.wa.gov/public/bridge/Software/TOGA/Version_2.9.1/WSDOT.pgz"
Version_3.0.0_PgzFiles="ftp://ftp.wsdot.wa.gov/public/bridge/Software/TOGA/Version_3.0.0/WSDOT.pgz"

[AASHTO]
WebLink="http://www.wsdot.wa.gov/eesc/bridge/software/TOGA/LibraryInfo.html"
Format="pgz"
Version_2.9.1_PgzFiles="ftp://ftp.wsdot.wa.gov/public/bridge/Software/TOGA/Version_2.9.1/AASHTO.pgz"
Version_3.0.0_PgzFiles="ftp://ftp.wsdot.wa.gov/public/bridge/Software/TOGA/Version_3.0.0/AASHTO.pgz"
</pre><p>Here is an example TOGAPackages.ini file for a file system server: </p><pre class="fragment">[TxDOT]
Format="pgz"
WebLink="http://ftp.dot.state.tx.us/pub/txdot-info/brg/TOGA/TxDOT_TOGA_LibraryInfo.htm"
Version_2.9.1_PgzFiles="C:\Shared\TogaServers\txdot.pgz" 
Version_3.0.0_PgzFiles="C:\Shared\TogaServers\txdot30.pgz" 
</pre><p>Instructions for a configuration begin with the configuration name in square brackets. For the FTP example, publishing instructions are for two configurations; WSDOT and AASHTO.</p>
<p>Following the configuration name are the publishing instructions for the configuration. The instructions are a keyword-value pair.</p>
<table class="doxtable">
<tr>
<th>Keyword </th><th>Description  </th></tr>
<tr>
<td>WebLink </td><td>URL of the configuration documentation. Omit if configuration documentation is not used. </td></tr>
<tr>
<td>Format </td><td>Format of the configuration package. "pgz" is the only valid value at this time </td></tr>
<tr>
<td>Version_x.y.z_PgzFiles </td><td>Location of the configuration package. Substitute the application version number for x.y.z. In the examples above, configuration packages are available for TOGA version 2.9.1 and 3.0.0 </td></tr>
</table>
<p>When installing a configuration, TOGA will look for the configuration package with the highest version number that is not greater than its own version number. If you are use TOGA Version 2.9.5, the configuration package for version 2.9.1 will be installed.</p>
<blockquote class="doxtable">
<p>NOTE: All configuration packages in an .ini file must be of the same type (e.g., links in an .ini file on an FTP server must all be FTP links). The server type must match the type defined in the <a class="el" href="configuration_server_definition.html">Configuration Server Definition</a>. </p>
</blockquote>
<p>Use NOTEPAD.EXE or any other plain text editor to create your publishing instructions. Be sure to save your publishing instructions with the name TOGAPackages.ini</p>
<h3>Publishing your Configuration</h3>
<p>Your configuration is now ready to be published on the configuration server and accessed by engineers all around the world.</p>
<p>To publish your configuration:</p><ol type="1">
<li>Open Windows Explorer or an ftp client to the location on your HTTP server where the configuration documentation will be stored. Copy the documentation onto the server</li>
<li>Open Windows Explorer or an ftp client to the location on the server where you will be storing the publishing instructions and configuration packages. Copy the publishing instructions (TOGAPackages.ini) and the configuration packages (the .PGZ and .PGZ.mD5 files).</li>
<li>Let everyone know how to access your configuration.</li>
</ol>
<p>See <a class="el" href="configurations.html">Configurations</a> to learn how to configure TOGA to use an FTP or HTTP based configuration. You will want to provide your users with the following information that is to be entered in the PGSuper Configuration Server Definition window.</p>
<table class="doxtable">
<tr>
<th>Item </th><th>Value  </th></tr>
<tr>
<td>Name </td><td>This can be any name. Specify one or let your users decide </td></tr>
<tr>
<td>Server Type </td><td>The server type you are using, either Internet FTP Server, Internet HTTP Server, or file system. </td></tr>
<tr>
<td>Server Address (URL) </td><td>The fully qualified URL for your server. This is the location where the INI file is stored. (e.g. <a href="http://www.mycompany.com/PGSuper/ConfigurationServer/">http://www.mycompany.com/PGSuper/ConfigurationServer/</a>) </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
